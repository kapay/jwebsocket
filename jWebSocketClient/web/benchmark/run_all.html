<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>jWebSocket - Test and Benchmark</title>
		<link rel="stylesheet" type="text/css" href="../lib/jasmine-1.0.2/jasmine.css">
		<script type="text/javascript" src="../lib/jasmine-1.0.2/jasmine.js"></script>
		<script type="text/javascript" src="../lib/jasmine-1.0.2/jasmine-html.js"></script>
		<link rel="stylesheet" type="text/css" href="../res/css/jWebSocket.css">
		<script type="text/javascript" src="../res/js/jWebSocket.js"></script>
		<script type="text/javascript" src="../res/js/jwsAPIPlugIn.js"></script>
		<script type="text/javascript" src="../res/js/jwsTestPlugIn.js"></script>
		
		<script type="text/javascript" src="../testing/src/jwsSharedTests.js"></script>
		<script type="text/javascript" src="../testing/src/jwsSystemTests.js"></script>
		
		<script type="text/javascript" src="../res/js/jwsFilesystemPlugIn.js"></script>
		<script type="text/javascript" src="../testing/src/jwsFilesystemTests.js"></script>
		
		<script type="text/javascript" src="../res/js/jwsLoggingPlugIn.js"></script>
		<script type="text/javascript" src="../testing/src/jwsLoggingTests.js"></script>

		<script type="text/javascript" src="../testing/src/jwsAutomatedAPITests.js"></script>
		
		<!-- include source files here... -->
		<script type="text/javascript" src="src/TestPlugInHelper.js"></script>

		<!-- include spec files here... -->
		<script type="text/javascript" src="spec/Matchers.js"></script>

	</head>
	<body>
		<table class="tblHeader" width="100%" cellspacing="0" cellpadding="0">
			<tr>
				<td class="tdHeader" width="">jWebSocket Automated Test and Benchmark Suite</td>
			</tr>
		</table>

		<p>
		<input class="sbtnDlg" id="sbtnManualTest" type="button" value="Programmatic" onclick="run('runManualTestSuite()');"
				   title="Runs the manual (programmatic) test suite.">
		<input class="sbtnDlg" id="sbtnBenchmarkTest" type="button" value="Benchmark" onclick="run('runBenchmarkSuite()');"
				   title="Runs the benchmark suite.">
		</p>

		<script type="text/javascript">

			function getURL() {
				var lHref = location.href;
				var lIdx = lHref.indexOf( "?" );
				if( lIdx > 0 ) {
					lHref = lHref.substring( 0, lIdx );
				}
				return lHref;
			}

			function run( aCall ) {
				location.href = getURL() + "?" + aCall;
			}

			var lSuite = location.search;
			if( lSuite ) {
				lSuite = lSuite.substr( 1 );
				console.log("running " + lSuite + "...");
				eval( lSuite );
				jws.TestPlugIn.execTests();
			}

			if( jws.browserSupportsWebSockets() ) {

			} else {
				var lMsg = jws.MSG_WS_NOT_SUPPORTED;
				alert( lMsg );
			}

		</script>
	</body>
</html>
